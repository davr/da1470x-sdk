<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmartSnippets DA1470x SDK: Audio demo application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SmartSnippets DA1470x SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Audio demo application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md228"></a>
Overview</h1>
<p>The application demonstrates how various audio data paths can be implemented.</p>
<p>Features:</p>
<ul>
<li>The application prints the path configuration of each demo used via UART2,</li>
<li>The application checks the usage of PDM input to I2S output and I2S input to I2S output paths.</li>
<li>If it is supported, the application checks the parallel usage of SRC1 and SRC2 using two audio data paths.</li>
</ul>
<p>There is a number of demos supplied as examples:</p>
<ol type="1">
<li>PDM-SRC1-PCM configuration for voice/audio streaming.</li>
<li>PDM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration for voice recording for duration configured according to build configuration and audio playback.</li>
<li>PCM-SRC1-PCM configuration for voice/audio streaming.</li>
<li>PCM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration for voice recording for duration configured according to build configuration and audio playback.</li>
<li>Two parallel paths, if it is supported:<ul>
<li>PATH_1: PDM-SRC1-MEMORY configuration for voice recording for duration configured according to build configuration.</li>
<li>PATH_2: MEMORY-SRC2-PCM configuration for playback of a tone of 1000 Hz saved in RAM.</li>
</ul>
</li>
<li>MEMORY-SRC1-MEMORY configuration that changes the sample rate of a tone in the memory.</li>
<li>SDADC-SRC1-PCM configuration for voice/audio streaming.(if it is supported)</li>
<li><p class="startli">SDADC-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration for voice recording for duration configured according to build configuration and audio playback.(if it is supported)</p>
<p class="startli">Note:</p><ul>
<li>The DA7218 Codec is clocked (MCLK input) by DIVN, mapped through P020. By default it is set to 32MHz.</li>
<li>Demos are implemented with the specific configuration (sample rate, bit depth etc.). Further configurability is not supported.</li>
<li>Demos that include PCM interface can be ran using either DIVN or DIV1(all supported clocks) system clock by setting:</li>
</ul>
</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#define SYS_CLK_DIV1                             (1)</span></div>
</div><!-- fragment --><ul>
<li>Demos that include PCM or MEMORY can have sample rate conversion between two pairs of sample rates: <pre class="fragment">1. 16KHz to/from 8KHz by setting:
</pre></li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define SR1_16_SR2_8                             (1)</span></div>
<div class="line"><span class="preprocessor">#define SR1_48_SR2_32                            (0)</span></div>
</div><!-- fragment --> <pre class="fragment">     2. 48KHz to/from 32KHz by setting:
</pre><div class="fragment"><div class="line"><span class="preprocessor">#define SR1_16_SR2_8                            (0)</span></div>
<div class="line"><span class="preprocessor">#define SR1_48_SR2_32                           (1)</span></div>
</div><!-- fragment --><p> when PCM is used as output the sample rate is 16/48KHz respectively.</p>
<h2><a class="anchor" id="autotoc_md229"></a>
Folder structure</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Top level folders  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">config/  </td><td class="markdownTableBodyNone">Configuration of demo applications   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">sdk/  </td><td class="markdownTableBodyNone">SDK layer   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">startup/  </td><td class="markdownTableBodyNone">Startup files   </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Inlcudes folder contents  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">includes/DA7218_driver.h  </td><td class="markdownTableBodyNone">Driver for DA7218   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">includes/audio_task.h  </td><td class="markdownTableBodyNone">Default application configuration (see Suggested configurable parameters)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">includes/periph_setup.h  </td><td class="markdownTableBodyNone">Default GPIO pin assignment (see GPIO assignments)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">includes/DA7218_regs.h  </td><td class="markdownTableBodyNone">Registers file of Codec DA7218 (should not be modified directly, modify DA7218_driver.h above instead)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">includes/demo_helpers.h  </td><td class="markdownTableBodyNone">Construction of sin and cos tones   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md230"></a>
Demos</h2>
<p>Using the audio_demo, it is possible to check how Audio framework works. The features depend on the selected demos which are described below. Only one audio demo should be selected each time.</p>
<p>In general, demos use:</p><ul>
<li>DA7218_driver.c: functions for Codec DA7218 (apart from DEMO_MEM_TO_MEM)</li>
<li>audio_task.c : Demos implementation</li>
<li>demo_helpers.c: functions for construction of tones (used only from DEMO_MEM_TO_MEM and DEMO_PDM_MIC_PARALLEL_SRCS)</li>
</ul>
<h3><a class="anchor" id="autotoc_md231"></a>
PDM-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: PDM-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen from PDM Mic input (such as SPK0838HT4H-B, SPH1668LM4H-1, SPM1423HM4H-B digital microphones), using a headset, hooked in a DA7218 module jack.</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li>SPK0838HT4H-B digital microphone</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file, the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md232"></a>
PDM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: PDM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen from PDM Mic input (such as SPK0838HT4H-B, SPH1668LM4H-1, SPM1423HM4H-B digital microphones), using a headset hooked in a DA7218 module jack. More specifically:<ul>
<li>The PDM-SRC1-Memory configuration allows the user to record PDM input to XiP flash (Log partition) by pressing K1 button. The recording duration is differentiated according to build configuration with the default sample rate and bit depth.</li>
<li>The Memory-SRC1-PCM configuration allows the user to listen to recorded audio, using a headset hooked in a DA7218 module jack.</li>
</ul>
</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li>SPK0838HT4H-B digital microphone</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md233"></a>
PCM-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: PCM-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen from a PCM Mic input, using a headset hooked in a DA7218 module jack.</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md234"></a>
PCM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: PCM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
</li>
<li>The demo allows the user to listen from a PCM Mic input, using a headset hooked in a DA7218 module jack. More specifically:<ul>
<li>The PCM-SRC1-Memory configuration allows the user to record PCM input to XiP flash (Log partition) by pressing K1 button. The recording duration is differentiated according to build configuration with the default sample rate and bit depth.</li>
<li>The Memory-SRC1-PCM configuration allows the user to listen to recorded audio, using a headset hooked in a DA7218 module jack.</li>
</ul>
</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md235"></a>
Two parallel paths configuration</h3>
<ul>
<li><b>Demonstrated paths</b>: PATH_1: PDM-SRC1-MEMORY PATH_2: MEMORY-SRC2-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen the 1 KHz tone, using a headset hooked in a DA7218 module jack and using debugger to retrieve the data recorded from PDM Mic input. More specifically:<ul>
<li>The PDM-SRC1-MEMORY configuration allows the user to record PDM input to RAM for a duration differentiated according to build configuration with the default sample rate and bit depth. Recorded data can be retrieved using debugger's memory browser.</li>
<li>The Memory-SRC2-PCM configuration allows the user to listen to recorded tone, using a headset hooked in a DA7218 module jack.</li>
</ul>
</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md236"></a>
MEMORY-SRC1-MEMORY configuration</h3>
<ul>
<li><b>Demonstrated path</b>: MEMORY-SRC1-MEMORY</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
</li>
<li>The demo convert the sample rate of 16 KHz of a tone of 1 KHz in memory to 8 KHz sample rate. Using memory browser, the tone in the input memory buffer must be the same with the one in the output memory buffer.</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (1)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md237"></a>
SDADC-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: SDADC-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen from SDADC Mic input (CMM-3729AB-38108-TR mems analog microphone), using a headset, hooked in a DA7218 module jack.</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li>CMM-3729AB-38108-TR mems analog microphone or embedded CMM-3729AB-38108-TR mems analog microphone on daughter-board</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md238"></a>
SDADC-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM configuration</h3>
<ul>
<li><b>Demonstrated path</b>: PDM-SRC1-MEMORY-&gt; MEMORY-SRC1-PCM</li>
<li><b>Source file</b>: audio_task.c</li>
<li><b>Description</b>:<br  />
 The demo allows the user to listen from SDADC Mic input (CMM-3729AB-38108-TR mems analog microphone), using a headset hooked in a DA7218 module jack. More specifically:<ul>
<li>The SDADC-SRC1-Memory configuration allows the user to record PDM input to RAM by pressing K1 button. The recording duration is differentiated according to build configuration with the default sample rate and bit depth.</li>
<li>The Memory-SRC1-PCM configuration allows the user to listen to recorded audio, using a headset hooked in a DA7218 module jack.</li>
</ul>
</li>
<li><b>Hardware Setup</b>:</li>
<li>Dialog DA7218 mikrobus module or embedded Codec DA7218 on motherboard</li>
<li>CMM-3729AB-38108-TR mems analog microphone or embedded CMM-3729AB-38108-TR mems analog microphone on daughter-board</li>
<li><b>Run steps</b>:<br  />
 To enable the demo go to the <code>includes/audio_task.h</code> file the respective macro must be set to (1). If the platform supports it, there are also the options to run the PDM_MIC_PARALLEL_SRCS demo, SDADC_MIC demo and SDADC_RECORD_PLAYBACK demo.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define DEMO_PCM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PCM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC                    (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_MIC_PARALLEL_SRCS      (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_MIC                  (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_SDADC_RECORD_PLAYBACK      (1)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_PDM_RECORD_PLAYBACK        (0)</span></div>
<div class="line"><span class="preprocessor">#define DEMO_MEM_TO_MEM                 (0)</span></div>
</div><!-- fragment --><p><em>Both for DA1469X and D2634:</em></p>
<ul>
<li>DA7218 module jack is attached in mikroBUS 1 for the external dev kit of DA1469X.</li>
</ul>
<p><em>For DA1470X:</em></p>
<ul>
<li>Motherboard 500-05-D (Rev.D) should be used.</li>
<li>A DA7218 codec is embedded on the motherboard (DA147x DevKit). To deploy it the following configuration is needed: <blockquote class="doxtable">
<p>J11 pins 1 &amp; 2 must be shorted.(Signals DA7218_BCLK and DA7218_DI are connected to P013 and P012 respectively.) </p>
</blockquote>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md239"></a>
Installation procedure</h1>
<p>The project is located in the <code>projects/dk_apps/demos/audio_demo</code> folder.</p>
<p>To install the project follow the <a class="el" href="install_and_debug_procedure.html">General Installation and Debugging Procedure</a>.</p>
<h1><a class="anchor" id="autotoc_md240"></a>
File structure</h1>
<p>The following file structure will be created:</p>
<ul>
<li>projects/dk_apps/demos/audio_demo/<ul>
<li>config<ul>
<li>custom_config_oqspi.h (only for DA1470X)</li>
<li>custom_config_qspi.h</li>
<li>custom_config_ram.h</li>
</ul>
</li>
<li>includes<ul>
<li>audio_task.h</li>
<li>DA7218_driver.h</li>
<li>DA7218_regs.h</li>
<li>demo_helpers.h</li>
<li>periph_setup.h</li>
</ul>
</li>
<li>sdk</li>
<li>src<ul>
<li>audio_task.c</li>
<li>config_audio_demo.c</li>
<li>DA7218_driver.c</li>
<li>demo_helpers.c</li>
<li>main.c</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md241"></a>
Existing build configurations</h1>
<p>The template contains build configurations for executing it from RAM, QSPI or OQSPI.</p>
<ul>
<li><code>DA1469X-00-Debug_RAM</code>. The project is built to be run from RAM. The executable is built with debug (-Og) information.</li>
<li><code>DA1469X-00-Debug_QSPI</code>. The project is built to be run from QSPI. The executable is built with debug (-Og) information.</li>
<li><code>DA1469X-00-Release_RAM</code>. The project is built to be run from RAM. The executable is built with no debug information and size optimization (-Os).</li>
<li><code>DA1469X-00-Release_QSPI</code>. The project is built to be run from QSPI. The executable is built with no debug information and size optimization (-Os).</li>
<li><code>DA1470X-00-Debug_RAM</code>. The project is built to be run from RAM. The executable is built with debug (-Og) information.</li>
<li><code>DA1470X-00-Debug_OQSPI</code>. The project is built to be run from OQSPI. The executable is built with debug (-Og) information.</li>
<li><code>DA1470X-00-Release_RAM</code>. The project is built to be run from RAM. The executable is built with no debug information and size optimization (-Os).</li>
<li><code>DA1470X-00-Release_OQSPI</code>. The project is built to be run from OQSPI. The executable is built with no debug information and size optimization (-Os).</li>
<li><code>D2634-00-Debug_RAM</code>. The project is built to be run from RAM. The executable is built with debug (-Og) information.</li>
<li><code>D2634-00-Debug_eFLASH</code>. The project is built to be run from eFLASH. The executable is built with debug (-Og) information.</li>
<li><code>D2798-00-Debug_RAM</code>. The project is built to be run from RAM. The executable is built with debug (-Og) information.</li>
<li><code>D2798-00-Debug_oQSPI</code>. The project is built to be run from OQSPI. The executable is built with debug (-Og) information. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 9 2022 13:50:40 for SmartSnippets DA1470x SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
